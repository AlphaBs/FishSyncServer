@page "/Web/Account/Manage/{username}/Buckets"
@model BucketsModel

@{
    Layout = "./_Layout.cshtml";
    ViewData["Title"] = "버킷";
}

<div class="overflow-x-auto">
    <table class="w-full text-left border-collapse border border-gray-300">
        <thead>
            <tr class="bg-gray-100">
                <th class="px-4 py-2 border border-gray-300">Id</th>
                <th class="px-4 py-2 border border-gray-300">Owners</th>
                <th class="px-4 py-2 border border-gray-300">LastUpdated</th>
                <th class="px-4 py-2 border border-gray-300">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var bucket in Model.Buckets)
            {
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-2 border border-gray-300">
                        <a asp-page="/Web/Buckets/List" asp-page-handler="RedirectToView" asp-route-id="@bucket.Id"
                            asp-route-type="@bucket.Type" class="text-blue-600 hover:underline">
                            @bucket.Id
                        </a>
                    </td>
                    <td class="px-4 py-2 border border-gray-300">@string.Join(',', bucket.Owners)</td>
                    <td class="px-4 py-2 border border-gray-300">@bucket.LastUpdated</td>
                    <td class="px-4 py-2 border border-gray-300">
                        <form>
                            <input type="hidden" name="bucketId" value="@bucket.Id" />
                            <input class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 cursor-pointer"
                                type="submit" name="Delete" value="권한 회수" />
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}